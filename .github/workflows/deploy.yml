name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main # mainブランチにpushされたときにデプロイ

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      # リポジトリをチェックアウト
      - name: Checkout repository
        uses: actions/checkout@v3

      # Node.jsをセットアップ
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: "16" # 必要に応じてNodeのバージョンを指定

      # 依存関係のインストール
      - name: Install dependencies
        run: npm install

      # ビルド
      - name: Build project
        run: npm run build # ビルドコマンドがある場合は実行

      # GitHub Pagesにデプロイ
      - name: Deploy to GitHub Pages
        run: |
          npm install -g gh-pages
          gh-pages -d dist  # distフォルダにビルドファイルが生成されている場合
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
